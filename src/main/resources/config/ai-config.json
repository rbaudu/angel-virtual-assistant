{
  "aiSelectionConfig": {
    "selectionMode": "weighted_random",
    "fallbackOnError": true,
    "maxRetries": 2,
    "timeoutMs": 5000,
    "weightingStrategy": "inverse_priority",
    "modePreference": "direct",
    "autoSwitchMode": true,
    "directModeTimeout": 30000,
    "apiModeTimeout": 10000
  },
  
  "questionAnalysis": {
    "complexityThreshold": 3,
    "complexityKeywords": [
      "analyse", "explique", "pourquoi", "comment", "compare", 
      "différence", "avantage", "inconvénient", "stratégie",
      "philosophie", "éthique", "complexe", "détaillé",
      "approfondi", "nuance", "contexte", "implication",
      "développe", "argumente", "justifie", "critique"
    ],
    "simpleKeywords": [
      "heure", "météo", "température", "qui", "quoi", "où", "quand",
      "combien", "définition", "signifie", "ouvre", "ferme"
    ]
  },

  "audioProviders": {
    "openai_realtime": {
      "enabled": true,
      "priority": 1,
      "weight": 50,
      "mode": "direct",
      "apiKey": "${OPENAI_API_KEY}",
      "endpoint": "https://api.openai.com/v1/audio/speech",
      "model": "gpt-4o-realtime-preview",
      "voice": "nova",
      "responseFormat": "audio",
      "maxTokens": 150,
      "temperature": 0.7,
      "systemPrompt": "Tu es Angèle, un assistant vocal français intelligent et bienveillant. Réponds de manière naturelle et conversationnelle."
    },
    "gemini_live": {
      "enabled": true,
      "priority": 2,
      "weight": 30,
      "mode": "direct",
      "apiKey": "${GOOGLE_API_KEY}",
      "endpoint": "https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent",
      "model": "gemini-pro-live",
      "voice": "fr-FR-Wavenet-C",
      "responseFormat": "audio",
      "maxTokens": 150,
      "temperature": 0.7,
      "systemPrompt": "Tu es Angèle, un assistant vocal français. Réponds de manière claire et concise."
    },
    "copilot_speech": {
      "enabled": true,
      "priority": 3,
      "weight": 20,
      "mode": "api",
      "apiKey": "${AZURE_API_KEY}",
      "endpoint": "${AZURE_ENDPOINT}",
      "voice": "fr-FR-DeniseNeural",
      "responseFormat": "audio",
      "maxTokens": 150,
      "temperature": 0.7,
      "systemPrompt": "Tu es Angèle, un assistant vocal basé sur Azure. Fournis des réponses utiles et pertinentes."
    }
  },

  "textProviders": {
    "claude": {
      "enabled": true,
      "priority": 1,
      "weight": 60,
      "mode": "direct",
      "apiKey": "${ANTHROPIC_API_KEY}",
      "endpoint": "https://api.anthropic.com/v1/messages",
      "model": "claude-3-5-sonnet-20241022",
      "maxTokens": 300,
      "temperature": 0.3,
      "ttsProvider": "azure",
      "voice": "fr-FR-DeniseNeural",
      "systemPrompt": "Tu es Angèle, un assistant vocal français intelligent et bienveillant. Tu es capable d'analyser, d'expliquer et de répondre à des questions complexes de manière claire et structurée. Tes réponses sont adaptées à l'oral, naturelles et conversationnelles."
    },
    "mistral": {
      "enabled": true,
      "priority": 2,
      "weight": 40,
      "mode": "api",
      "apiKey": "${MISTRAL_API_KEY}",
      "endpoint": "https://api.mistral.ai/v1/chat/completions",
      "model": "mistral-large-latest",
      "maxTokens": 300,
      "temperature": 0.3,
      "ttsProvider": "azure",
      "voice": "fr-FR-HenriNeural",
      "systemPrompt": "Tu es Angèle, un assistant créatif et technique. Tu excelles dans les explications techniques, la créativité et les réponses détaillées. Tes réponses sont engageantes et informatives."
    }
  },

  "ttsServices": {
    "azure": {
      "apiKey": "${AZURE_SPEECH_KEY}",
      "region": "${AZURE_REGION}",
      "defaultVoice": "fr-FR-DeniseNeural",
      "speed": 1.0,
      "pitch": "default"
    },
    "google": {
      "apiKey": "${GOOGLE_TTS_KEY}",
      "defaultVoice": "fr-FR-Wavenet-C",
      "speed": 1.0,
      "pitch": 0.0
    }
  },

  "statisticsTracking": {
    "enabled": true,
    "logSelections": true,
    "trackPerformance": true,
    "adjustWeightsBasedOnSuccess": false,
    "logModeUsage": true
  },
  
  "fallbackConfiguration": {
    "enabled": true,
    "primaryToFallbackMapping": {
      "claude": ["mistral", "openai_realtime"],
      "mistral": ["claude", "gemini_live"],
      "openai_realtime": ["gemini_live", "copilot_speech"],
      "gemini_live": ["openai_realtime", "copilot_speech"],
      "copilot_speech": ["openai_realtime", "gemini_live"]
    },
    "modeFallback": {
      "direct": "api",
      "api": "direct"
    },
    "maxFallbackAttempts": 3,
    "fallbackDelay": 500
  },
  
  "healthCheck": {
    "enabled": true,
    "interval": 300000,
    "timeout": 5000,
    "disableOnFailure": true,
    "reenableAfter": 600000,
    "endpoints": {
      "claude": "https://api.anthropic.com/v1/health",
      "openai": "https://api.openai.com/v1/health",
      "mistral": "https://api.mistral.ai/health",
      "google": "https://generativelanguage.googleapis.com/health"
    }
  }
}